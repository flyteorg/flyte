// @generated by protoc-gen-es v2.2.5 with parameter "target=ts,import_extension=.ts"
// @generated from file flyteidl2/plugins/kubeflow/mpi.proto (package flyteidl2.plugins.kubeflow, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage } from "@bufbuild/protobuf/codegenv1";
import { fileDesc, messageDesc } from "@bufbuild/protobuf/codegenv1";
import type { Resources } from "../../core/tasks_pb.ts";
import { file_flyteidl2_core_tasks } from "../../core/tasks_pb.ts";
import type { CommonReplicaSpec, RestartPolicy } from "../common_pb.ts";
import { file_flyteidl2_plugins_common } from "../common_pb.ts";
import type { RunPolicy } from "./common_pb.ts";
import { file_flyteidl2_plugins_kubeflow_common } from "./common_pb.ts";
import type { Message } from "@bufbuild/protobuf";

/**
 * Describes the file flyteidl2/plugins/kubeflow/mpi.proto.
 */
export const file_flyteidl2_plugins_kubeflow_mpi: GenFile = /*@__PURE__*/
  fileDesc("CiRmbHl0ZWlkbDIvcGx1Z2lucy9rdWJlZmxvdy9tcGkucHJvdG8SGmZseXRlaWRsMi5wbHVnaW5zLmt1YmVmbG93IpgCChpEaXN0cmlidXRlZE1QSVRyYWluaW5nVGFzaxJWCg93b3JrZXJfcmVwbGljYXMYASABKAsyPS5mbHl0ZWlkbDIucGx1Z2lucy5rdWJlZmxvdy5EaXN0cmlidXRlZE1QSVRyYWluaW5nUmVwbGljYVNwZWMSWAoRbGF1bmNoZXJfcmVwbGljYXMYAiABKAsyPS5mbHl0ZWlkbDIucGx1Z2lucy5rdWJlZmxvdy5EaXN0cmlidXRlZE1QSVRyYWluaW5nUmVwbGljYVNwZWMSOQoKcnVuX3BvbGljeRgDIAEoCzIlLmZseXRlaWRsMi5wbHVnaW5zLmt1YmVmbG93LlJ1blBvbGljeRINCgVzbG90cxgEIAEoBSKDAgohRGlzdHJpYnV0ZWRNUElUcmFpbmluZ1JlcGxpY2FTcGVjEhQKCHJlcGxpY2FzGAEgASgFQgIYARIRCgVpbWFnZRgCIAEoCUICGAESMAoJcmVzb3VyY2VzGAMgASgLMhkuZmx5dGVpZGwyLmNvcmUuUmVzb3VyY2VzQgIYARI8Cg5yZXN0YXJ0X3BvbGljeRgEIAEoDjIgLmZseXRlaWRsMi5wbHVnaW5zLlJlc3RhcnRQb2xpY3lCAhgBEg8KB2NvbW1hbmQYBSADKAkSNAoGY29tbW9uGAYgASgLMiQuZmx5dGVpZGwyLnBsdWdpbnMuQ29tbW9uUmVwbGljYVNwZWNC9gEKHmNvbS5mbHl0ZWlkbDIucGx1Z2lucy5rdWJlZmxvd0IITXBpUHJvdG9IAlABWj5naXRodWIuY29tL2ZseXRlb3JnL2ZseXRlL3YyL2dlbi9nby9mbHl0ZWlkbDIvcGx1Z2lucy9rdWJlZmxvd6ICA0ZQS6oCGkZseXRlaWRsMi5QbHVnaW5zLkt1YmVmbG93ygIaRmx5dGVpZGwyXFBsdWdpbnNcS3ViZWZsb3fiAiZGbHl0ZWlkbDJcUGx1Z2luc1xLdWJlZmxvd1xHUEJNZXRhZGF0YeoCHEZseXRlaWRsMjo6UGx1Z2luczo6S3ViZWZsb3diBnByb3RvMw", [file_flyteidl2_core_tasks, file_flyteidl2_plugins_common, file_flyteidl2_plugins_kubeflow_common]);

/**
 * Proto for plugin that enables distributed training using https://github.com/kubeflow/mpi-operator
 *
 * @generated from message flyteidl2.plugins.kubeflow.DistributedMPITrainingTask
 */
export type DistributedMPITrainingTask = Message<"flyteidl2.plugins.kubeflow.DistributedMPITrainingTask"> & {
  /**
   * Worker replicas spec
   *
   * @generated from field: flyteidl2.plugins.kubeflow.DistributedMPITrainingReplicaSpec worker_replicas = 1;
   */
  workerReplicas?: DistributedMPITrainingReplicaSpec;

  /**
   * Master replicas spec
   *
   * @generated from field: flyteidl2.plugins.kubeflow.DistributedMPITrainingReplicaSpec launcher_replicas = 2;
   */
  launcherReplicas?: DistributedMPITrainingReplicaSpec;

  /**
   * RunPolicy encapsulates various runtime policies of the distributed training
   * job, for example how to clean up resources and how long the job can stay
   * active.
   *
   * @generated from field: flyteidl2.plugins.kubeflow.RunPolicy run_policy = 3;
   */
  runPolicy?: RunPolicy;

  /**
   * Number of slots per worker
   *
   * @generated from field: int32 slots = 4;
   */
  slots: number;
};

/**
 * Describes the message flyteidl2.plugins.kubeflow.DistributedMPITrainingTask.
 * Use `create(DistributedMPITrainingTaskSchema)` to create a new message.
 */
export const DistributedMPITrainingTaskSchema: GenMessage<DistributedMPITrainingTask> = /*@__PURE__*/
  messageDesc(file_flyteidl2_plugins_kubeflow_mpi, 0);

/**
 * Replica specification for distributed MPI training
 *
 * @generated from message flyteidl2.plugins.kubeflow.DistributedMPITrainingReplicaSpec
 */
export type DistributedMPITrainingReplicaSpec = Message<"flyteidl2.plugins.kubeflow.DistributedMPITrainingReplicaSpec"> & {
  /**
   * 1~4 deprecated. Use common instead.
   * Number of replicas
   *
   * @generated from field: int32 replicas = 1 [deprecated = true];
   * @deprecated
   */
  replicas: number;

  /**
   * Image used for the replica group
   *
   * @generated from field: string image = 2 [deprecated = true];
   * @deprecated
   */
  image: string;

  /**
   * Resources required for the replica group
   *
   * @generated from field: flyteidl2.core.Resources resources = 3 [deprecated = true];
   * @deprecated
   */
  resources?: Resources;

  /**
   * Restart policy determines whether pods will be restarted when they exit
   *
   * @generated from field: flyteidl2.plugins.RestartPolicy restart_policy = 4 [deprecated = true];
   * @deprecated
   */
  restartPolicy: RestartPolicy;

  /**
   * MPI sometimes requires different command set for different replica groups
   *
   * @generated from field: repeated string command = 5;
   */
  command: string[];

  /**
   * The common replica spec
   *
   * @generated from field: flyteidl2.plugins.CommonReplicaSpec common = 6;
   */
  common?: CommonReplicaSpec;
};

/**
 * Describes the message flyteidl2.plugins.kubeflow.DistributedMPITrainingReplicaSpec.
 * Use `create(DistributedMPITrainingReplicaSpecSchema)` to create a new message.
 */
export const DistributedMPITrainingReplicaSpecSchema: GenMessage<DistributedMPITrainingReplicaSpec> = /*@__PURE__*/
  messageDesc(file_flyteidl2_plugins_kubeflow_mpi, 1);

