// @generated by protoc-gen-es v2.2.5 with parameter "target=ts,import_extension=.ts"
// @generated from file flyteidl2/dataproxy/dataproxy_service.proto (package flyteidl2.dataproxy, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage, GenService } from "@bufbuild/protobuf/codegenv1";
import { fileDesc, messageDesc, serviceDesc } from "@bufbuild/protobuf/codegenv1";
import { file_buf_validate_validate } from "../../buf/validate/validate_pb.ts";
import { file_google_api_annotations } from "../../google/api/annotations_pb.ts";
import type { Duration, Timestamp } from "@bufbuild/protobuf/wkt";
import { file_google_protobuf_duration, file_google_protobuf_timestamp } from "@bufbuild/protobuf/wkt";
import { file_protoc_gen_openapiv2_options_annotations } from "../../protoc-gen-openapiv2/options/annotations_pb.ts";
import type { Message } from "@bufbuild/protobuf";

/**
 * Describes the file flyteidl2/dataproxy/dataproxy_service.proto.
 */
export const file_flyteidl2_dataproxy_dataproxy_service: GenFile = /*@__PURE__*/
  fileDesc("CitmbHl0ZWlkbDIvZGF0YXByb3h5L2RhdGFwcm94eV9zZXJ2aWNlLnByb3RvEhNmbHl0ZWlkbDIuZGF0YXByb3h5Io0CChtDcmVhdGVVcGxvYWRMb2NhdGlvblJlcXVlc3QSGAoHcHJvamVjdBgBIAEoCUIHukgEcgIQARIXCgZkb21haW4YAiABKAlCB7pIBHICEAESEAoIZmlsZW5hbWUYAyABKAkSLQoKZXhwaXJlc19pbhgEIAEoCzIZLmdvb2dsZS5wcm90b2J1Zi5EdXJhdGlvbhIcCgtjb250ZW50X21kNRgFIAEoDEIHukgEegJoEBIVCg1maWxlbmFtZV9yb290GAYgASgJEiAKGGFkZF9jb250ZW50X21kNV9tZXRhZGF0YRgHIAEoCBILCgNvcmcYCCABKAkSFgoOY29udGVudF9sZW5ndGgYCSABKAMi9wEKHENyZWF0ZVVwbG9hZExvY2F0aW9uUmVzcG9uc2USEgoKc2lnbmVkX3VybBgBIAEoCRISCgpuYXRpdmVfdXJsGAIgASgJEi4KCmV4cGlyZXNfYXQYAyABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEk8KB2hlYWRlcnMYBCADKAsyPi5mbHl0ZWlkbDIuZGF0YXByb3h5LkNyZWF0ZVVwbG9hZExvY2F0aW9uUmVzcG9uc2UuSGVhZGVyc0VudHJ5Gi4KDEhlYWRlcnNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBMrUCChBEYXRhUHJveHlTZXJ2aWNlEqACChRDcmVhdGVVcGxvYWRMb2NhdGlvbhIwLmZseXRlaWRsMi5kYXRhcHJveHkuQ3JlYXRlVXBsb2FkTG9jYXRpb25SZXF1ZXN0GjEuZmx5dGVpZGwyLmRhdGFwcm94eS5DcmVhdGVVcGxvYWRMb2NhdGlvblJlc3BvbnNlIqIBkkFNGktDcmVhdGVzIGEgd3JpdGUtb25seSBodHRwIGxvY2F0aW9uIHRoYXQgaXMgYWNjZXNzaWJsZSBmb3IgdGFza3MgYXQgcnVudGltZS6C0+STAkw6ASpaJzoBKiIiL2FwaS92MS9vcmcvZGF0YXByb3h5L2FydGlmYWN0X3VybiIeL2FwaS92MS9kYXRhcHJveHkvYXJ0aWZhY3RfdXJuQtgBChdjb20uZmx5dGVpZGwyLmRhdGFwcm94eUIVRGF0YXByb3h5U2VydmljZVByb3RvSAJQAVo3Z2l0aHViLmNvbS9mbHl0ZW9yZy9mbHl0ZS92Mi9nZW4vZ28vZmx5dGVpZGwyL2RhdGFwcm94eaICA0ZEWKoCE0ZseXRlaWRsMi5EYXRhcHJveHnKAhNGbHl0ZWlkbDJcRGF0YXByb3h54gIfRmx5dGVpZGwyXERhdGFwcm94eVxHUEJNZXRhZGF0YeoCFEZseXRlaWRsMjo6RGF0YXByb3h5YgZwcm90bzM", [file_buf_validate_validate, file_google_api_annotations, file_google_protobuf_duration, file_google_protobuf_timestamp, file_protoc_gen_openapiv2_options_annotations]);

/**
 * CreateUploadLocationRequest specifies the request for the CreateUploadLocation API.
 * The data proxy service will generate a storage location with server-side configured prefixes.
 * The generated path follows one of these patterns:
 *   - project/domain/(deterministic hash of content_md5)/filename (if filename is present); OR
 *   - project/domain/filename_root/filename (if filename_root and filename are present).
 *
 * @generated from message flyteidl2.dataproxy.CreateUploadLocationRequest
 */
export type CreateUploadLocationRequest = Message<"flyteidl2.dataproxy.CreateUploadLocationRequest"> & {
  /**
   * Project to create the upload location for.
   * +required
   *
   * @generated from field: string project = 1;
   */
  project: string;

  /**
   * Domain to create the upload location for.
   * +required
   *
   * @generated from field: string domain = 2;
   */
  domain: string;

  /**
   * Filename specifies the desired suffix for the generated location. E.g. `file.py` or `pre/fix/file.zip`.
   * +optional. By default, the service generates a consistent name based on the default filename length provided in the global config..
   *
   * @generated from field: string filename = 3;
   */
  filename: string;

  /**
   * ExpiresIn defines the requested expiration duration for the generated URL. The request will be rejected if this
   * exceeds the platform's configured maximum.
   * +optional. The default value comes from the global config.
   *
   * @generated from field: google.protobuf.Duration expires_in = 4;
   */
  expiresIn?: Duration;

  /**
   * ContentMD5 restricts the upload location to the specific MD5 provided. The MD5 hash will also appear in the
   * generated path for verification.
   * +required
   *
   * @generated from field: bytes content_md5 = 5;
   */
  contentMd5: Uint8Array;

  /**
   * FilenameRoot, if present, will be used instead of the MD5 hash in the path. When combined with filename,
   * this makes the upload location deterministic. The native URL will still be prefixed by the upload location prefix
   * configured in the data proxy. This option is useful when uploading multiple related files.
   * +optional
   *
   * @generated from field: string filename_root = 6;
   */
  filenameRoot: string;

  /**
   * If true, the data proxy will add content_md5 to the Signed URL requirements,
   * forcing clients to send this checksum with the object.
   * This is required to enforce data integrity on backends like GCP, ensuring that
   * the uploaded file matches the hash.
   *
   * @generated from field: bool add_content_md5_metadata = 7;
   */
  addContentMd5Metadata: boolean;

  /**
   * Org is the organization key applied to the resource.
   * +optional
   *
   * @generated from field: string org = 8;
   */
  org: string;

  /**
   * ContentLength specifies the size of the content to be uploaded in bytes.
   * This is validated against the platform's maximum upload size if provided.
   * +optional
   *
   * @generated from field: int64 content_length = 9;
   */
  contentLength: bigint;
};

/**
 * Describes the message flyteidl2.dataproxy.CreateUploadLocationRequest.
 * Use `create(CreateUploadLocationRequestSchema)` to create a new message.
 */
export const CreateUploadLocationRequestSchema: GenMessage<CreateUploadLocationRequest> = /*@__PURE__*/
  messageDesc(file_flyteidl2_dataproxy_dataproxy_service, 0);

/**
 * CreateUploadLocationResponse specifies the response for the CreateUploadLocation API.
 *
 * @generated from message flyteidl2.dataproxy.CreateUploadLocationResponse
 */
export type CreateUploadLocationResponse = Message<"flyteidl2.dataproxy.CreateUploadLocationResponse"> & {
  /**
   * SignedUrl is the URL to use for uploading content (e.g. https://my-bucket.s3.amazonaws.com/randomstring/suffix.tar?X-...).
   *
   * @generated from field: string signed_url = 1;
   */
  signedUrl: string;

  /**
   * NativeUrl is the URL in the format of the configured storage provider (e.g. s3://my-bucket/randomstring/suffix.tar).
   *
   * @generated from field: string native_url = 2;
   */
  nativeUrl: string;

  /**
   * ExpiresAt defines when the signed URL will expire.
   *
   * @generated from field: google.protobuf.Timestamp expires_at = 3;
   */
  expiresAt?: Timestamp;

  /**
   * Headers are generated by the data proxy for the client. Clients must include these headers in the upload request.
   *
   * @generated from field: map<string, string> headers = 4;
   */
  headers: { [key: string]: string };
};

/**
 * Describes the message flyteidl2.dataproxy.CreateUploadLocationResponse.
 * Use `create(CreateUploadLocationResponseSchema)` to create a new message.
 */
export const CreateUploadLocationResponseSchema: GenMessage<CreateUploadLocationResponse> = /*@__PURE__*/
  messageDesc(file_flyteidl2_dataproxy_dataproxy_service, 1);

/**
 * DataProxyService provides an interface for managing data uploads and downloads.
 *
 * @generated from service flyteidl2.dataproxy.DataProxyService
 */
export const DataProxyService: GenService<{
  /**
   * CreateUploadLocation generates a signed URL for uploading data to the configured storage backend.
   *
   * @generated from rpc flyteidl2.dataproxy.DataProxyService.CreateUploadLocation
   */
  createUploadLocation: {
    methodKind: "unary";
    input: typeof CreateUploadLocationRequestSchema;
    output: typeof CreateUploadLocationResponseSchema;
  },
}> = /*@__PURE__*/
  serviceDesc(file_flyteidl2_dataproxy_dataproxy_service, 0);

